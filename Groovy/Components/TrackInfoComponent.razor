@using Core.Models;
@using Groovy.Services.Contracts;
@inject IJSRuntime JSRuntime
@inject IAudioPlayerService AudioPlayerService

<div class="TrackInfoComponent">
    <button @onclick="() => SeleccionarAudio(Track.Path)">
        <img
            src=@Track.Imagen
            alt="Album Art"
        >
    </button>
    <div class="track-info">
    <p>@Track.Title</p>
    <p>
        @foreach (var artist in @Track.Artists)
        {
            @artist
        }
    </p>
    <p class="pcview">@Track.Track</p>
    <p class="pcview">@Track.Duration</p>
    <p class="pcview">@Track.Year</p>
    <p class="pcview">@Track.Genres</p>
    </div>
</div>

@code {
    [Parameter] public Audio Track { get; set; }

    private void SeleccionarAudio(string audioUrl)
    {
        AudioPlayerService.ChangeTrack(Track);
    }
}